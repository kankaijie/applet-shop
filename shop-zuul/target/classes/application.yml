server:
  port: 8088

eureka:
  instance:
    hostname: 127.0.0.1
  client:
    register-with-eureka: true
    fetch-registry: true
    service-url:
       defaultZone: http://127.0.0.1:10087/eureka


spring:
  application:
    name: shop-zuul



zuul:
  routes:
    zuul-service:
      path: /**
      service-id: shop-web
      retryable: true

    ribbon:
       ConnectTimeout: 250 # 连接超时时间（ms），默认值为250ms
       ReadTimeout: 2000 # 通信超时时间（ms），默认值为2000ms
       OkToRetryOnAllOperations: true # 是否对所有操作都进行重试
       MaxAutoRetriesNextServer: 2 # 对同一服务不同实例重试次数（同一服务下集群个数的重试次数）
       MaxAutoRetries: 2 # 对同一实例重试的次数（单个集群节点服务重试的次数）

  # 开启熔断机制，超过六秒即开启熔断机制，网关内的时间排序：zuul的通信时间 > hystrix熔断时间 > retry重试时间
    hystrix:
     command:
      default:
        execution:
          isolation:
            thread:
              timeoutInMilliseconds: 6000



